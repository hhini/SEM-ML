---
title: SEM + ML å®é™…é¡¹ç›®è®ºæ–‡å¤ç°
authors:
  - name: JAYZJAYZ
    affiliation: GAN NAN medical university
    roles: writing
    corresponding: true
bibliography: references.bib
---

# SEMåŠ MLåˆ†æ ğŸ«¥

------------------------------------------------------------------------

***è¦å…·ä½“çŸ¥é“ä¸ºä»€ä¹ˆè¦ç»“åˆï¼Œå¯ä»¥å‚è€ƒæ–‡çŒ® [æ··åˆäººå·¥ç¥ç»ç½‘ç»œä¸ç»“æ„æ–¹ç¨‹æ¨¡å‹æŠ€æœ¯ï¼šç»¼è¿°](https://link.springer.com/article/10.1007/s40747-021-00503-w)Hybrid artificial neural network and structural equation modelling techniques: a survey***

## ä¸ºä»€ä¹ˆè¦ç»“åˆæœºå™¨å­¦ä¹ ï¼ˆMLï¼‰ä¸ç»“æ„æ–¹ç¨‹æ¨¡å‹ï¼ˆSEMï¼‰

### âœ¨ ç†è®ºä¸å®è·µçš„èåˆï¼šSEM + ML çš„ä¼˜åŠ¿

ç»“æ„æ–¹ç¨‹æ¨¡å‹ï¼ˆSEMï¼‰æ˜¯ä¸€ç§å¼ºå¤§çš„å› æœå»ºæ¨¡å·¥å…·ï¼Œèƒ½å¤ŸåŒæ—¶å¤„ç†æµ‹é‡æ¨¡å‹ï¼ˆæ½œå˜é‡ï¼‰å’Œè·¯å¾„æ¨¡å‹ï¼ˆå˜é‡é—´å…³ç³»ï¼‰ã€‚ä½†åœ¨å®é™…ç ”ç©¶ä¸­ï¼Œå°¤å…¶æ˜¯é¢å¯¹é«˜ç»´æ•°æ®(å°±æ˜¯å˜é‡å¤š)ã€å¤æ‚å˜é‡ç»“æ„æˆ–éçº¿æ€§å…³ç³»æ—¶ï¼ŒSEMä¹Ÿé¢ä¸´æŒ‘æˆ˜ï¼š

-   **å˜é‡ç­›é€‰å›°éš¾**ï¼šä¼ ç»ŸSEMä¾èµ–ç†è®ºå‡è®¾ï¼Œå˜é‡é€‰æ‹©ä¸»è§‚æ€§å¼º(ä¸€èˆ¬è¦å‚è€ƒç¤¾ä¼šç§‘å­¦æ–‡çŒ®ï¼Œå¹¶ä¸”è¿›è¡Œå‡è®¾ï¼Œéº»äº†)ï¼›

-   **æ¨¡å‹æ‹Ÿåˆå—é™**ï¼šå½“å˜é‡æ•°é‡å¤šã€å…³ç³»å¤æ‚æ—¶ï¼ŒSEMæ¨¡å‹å®¹æ˜“è¿‡æ‹Ÿåˆæˆ–æ‹Ÿåˆä¸ä½³(è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ)ï¼›

-   **é¢„æµ‹èƒ½åŠ›æœ‰é™**ï¼šSEMæ›´åå‘è§£é‡Šæ€§è€Œéé¢„æµ‹æ€§ã€‚

è€Œæœºå™¨å­¦ä¹ ï¼ˆMLï¼‰æ­£å¥½å¯ä»¥è¡¥è¶³è¿™äº›çŸ­æ¿ï¼š

| åŠŸèƒ½       | SEM         | ML                |
|------------|-------------|-------------------|
| å› æœæ¨ç†   | âœ… å¼º       | âŒ å¼±ï¼ˆä½†å¯è¾…åŠ©ï¼‰ |
| æ½œå˜é‡å»ºæ¨¡ | âœ… æ”¯æŒ     | âŒ ä¸ç›´æ¥æ”¯æŒ     |
| ç‰¹å¾ç­›é€‰   | âŒ ä¾èµ–ç†è®º | âœ… æ•°æ®é©±åŠ¨       |
| éçº¿æ€§å»ºæ¨¡ | âŒ æœ‰é™     | âœ… å¼ºå¤§           |
| é¢„æµ‹èƒ½åŠ›   | âŒ å¼±       | âœ… å¼º             |

å› æ­¤ï¼Œå°†MLä¸SEMç»“åˆï¼Œå¯ä»¥å®ç°ï¼š

-   **æ•°æ®é©±åŠ¨çš„å˜é‡ç­›é€‰**ï¼ˆå¦‚ç”¨éšæœºæ£®æ—æˆ–SHAPå€¼æ‰¾å‡ºæœ€é‡è¦çš„é¢„æµ‹å› å­(ä¸€èˆ¬æ¥è¯´å¦‚æœå˜é‡è¾ƒå¤šçš„æ—¶å€™ï¼Œä¸€èˆ¬æ˜¯ä¸é™ç»´çš„ï¼Œè€Œæ˜¯ç­›é€‰å˜é‡çš„ï¼‰ï¼›

-   **æå‡æ¨¡å‹è§£é‡ŠåŠ›ä¸é¢„æµ‹åŠ›**ï¼ˆå…ˆç”¨MLæ‰¾å‡º**å…³é”®å˜é‡**ï¼Œå†ç”¨SEMå»ºæ¨¡è·¯å¾„ï¼‰ï¼›

-   **å¢å¼ºæ¨¡å‹ç¨³å¥æ€§**ï¼ˆMLå¯ç”¨äº**éªŒè¯**SEMæ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼‰ï¼›

-   **æé«˜ç ”ç©¶å½±å“åŠ›**ï¼ˆç»“åˆæ–¹æ³•æ›´å‰æ²¿ï¼Œæ˜“å‘è¡¨åœ¨é«˜å½±å“å› å­æœŸåˆŠï¼‰ã€‚

### ğŸ“ˆ æ–‡çŒ®æ”¯æŒï¼šç»“åˆMLä¸SEMçš„ç ”ç©¶è¶Šæ¥è¶Šå¤šï¼Œå½±å“å› å­ä¹Ÿåœ¨ä¸Šå‡

ä»¥ä¸‹æ˜¯æä¾›çš„å‡ ç¯‡ä»£è¡¨æ€§æ–‡çŒ®ï¼Œå±•ç¤ºäº†ML+SEMçš„å®é™…åº”ç”¨ä¸å‘è¡¨æ½œåŠ›ï¼š

1.  âœ… **å¤ç°çš„è®ºæ–‡**ï¼š PMC12236327

    -   ç»“åˆéšæœºæ£®æ—ä¸SEMï¼Œè¯†åˆ«å½±å“ç²¾ç¥åˆ†è£‚ç—‡æ‚£è€…ä¸»è§‚å¹¸ç¦æ„Ÿçš„å…³é”®å› ç´ ã€‚

    -   é€šè¿‡MLç­›é€‰å˜é‡ï¼Œå†ç”¨lavaanæ„å»ºè·¯å¾„æ¨¡å‹ï¼Œå®ç°å› æœè§£é‡Šä¸é¢„æµ‹å¹¶é‡ã€‚

    -   å‘è¡¨åœ¨ã€ŠTranslational Psychiatryã€‹ï¼ŒIF â‰ˆ 7.7ã€‚

2.  ğŸ“± **æ™ºèƒ½ç©¿æˆ´è®¾å¤‡é‡‡çº³ç ”ç©¶**ï¼š Bou Nassif et al. (2022)

    -   ä½¿ç”¨PLS-SEMä¸MLå¯¹æ™ºèƒ½æ‰‹è¡¨é‡‡çº³æ„å›¾è¿›è¡Œå»ºæ¨¡ã€‚

    -   MLæ­ç¤ºâ€œç”¨æˆ·æ»¡æ„åº¦â€æ˜¯æœ€å…³é”®é¢„æµ‹å› å­ï¼ŒSEMéªŒè¯å…¶è·¯å¾„å…³ç³»ã€‚

    -   å‘è¡¨åœ¨ã€ŠHeliyonã€‹ï¼ŒIF â‰ˆ 4.0ã€‚

3.  ğŸ§  **æ¶ˆè´¹è€…å¿ƒç†ä¸è¡Œä¸ºç ”ç©¶**ï¼š ScienceDirect 2023è®ºæ–‡

    -   ç”¨MLç­›é€‰å½±å“æ¶ˆè´¹è€…ä¿¡ä»»çš„å˜é‡ï¼Œå†ç”¨SEMå»ºæ¨¡ä¿¡ä»»å½¢æˆæœºåˆ¶ã€‚

    -   å‘è¡¨åœ¨ã€ŠJournal of Business Researchã€‹ï¼ŒIF â‰ˆ 10.0ã€‚

4.  ğŸ§¬ **å¥åº·è¡Œä¸ºé¢„æµ‹ç ”ç©¶**ï¼š ScienceDirect 2024è®ºæ–‡

    -   ç»“åˆMLä¸SEMé¢„æµ‹å¥åº·è¡Œä¸ºé‡‡çº³ï¼Œå¼ºè°ƒæ•°æ®é©±åŠ¨ä¸ç†è®ºå»ºæ¨¡çš„èåˆã€‚

    -   å‘è¡¨åœ¨ã€ŠPreventive Medicine Reportsã€‹ï¼ŒIF â‰ˆ 3.5ã€‚

------------------------------------------------------------------------

## ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ğŸ«¤

åœ¨æ­£å¼è¿›å…¥æœºå™¨å­¦ä¹ ï¼ˆMachine Learning, MLï¼‰ï¼‹ç»“æ„æ–¹ç¨‹æ¨¡å‹ï¼ˆSEMï¼‰çš„æ•´åˆåº”ç”¨ä¹‹å‰ï¼Œé¦–å…ˆè¦è®©å¤§å®¶å¯¹â€œæœºå™¨å­¦ä¹ â€è¿™ä¸ªæ¦‚å¿µæœ‰ä¸€ä¸ªç›´è§‚çš„ç†è§£ã€‚ä¸å¿…è¿‡åˆ†çº ç»“å¤æ‚çš„æ•°å­¦å…¬å¼ï¼Œè€Œè¦æŠ“ä½å®ƒçš„æ ¸å¿ƒæ€æƒ³å’Œç ”ç©¶æµç¨‹ã€‚

### 2.1 æœºå™¨å­¦ä¹ çš„å®šä¹‰ğŸ¤¤

æœºå™¨å­¦ä¹ æ˜¯ä¸€ç§***è®©è®¡ç®—æœºé€šè¿‡â€œæ ·æœ¬æ•°æ®â€è‡ªè¡Œå‘ç°è§„å¾‹***ï¼Œ***å¹¶å°†è¿™äº›è§„å¾‹ç”¨äºâ€œé¢„æµ‹â€æˆ–â€œå†³ç­–â€çš„æŠ€æœ¯ã€‚***\
- å®ƒä¸åƒä¼ ç»Ÿç»Ÿè®¡å­¦é‚£æ ·å¼ºè°ƒæ•´ä½“å‡è®¾æ£€éªŒå’Œå‚æ•°ä¼°è®¡ï¼Œæ›´æ³¨é‡â€œä»æ•°æ®ä¸­è‡ªåŠ¨å­¦ä¹ â€ã€‚\
- ML æ—¨åœ¨ç”¨å·²æœ‰æ•°æ®è®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼Œè®©æ¨¡å‹åœ¨æ–°æ•°æ®ä¸Šä¹Ÿèƒ½è¡¨ç°å‡ºè‰¯å¥½çš„é¢„æµ‹æˆ–åˆ†ç±»èƒ½åŠ›ã€‚

***è¿™ä¹Ÿè®©æœºå™¨å­¦ä¹ æ— æ³•ç”¨æ•°å­¦å…¬å¼å’Œå› æœå…³ç³»æ¥çŸ¥é“ç”µè„‘æ˜¯æ€ä¹ˆæƒ³çš„ï¼Œå½¢æˆäº†æ‰€è°“çš„é»‘åŒ£å­ï¼Œè§£é‡Šæ€§å¤ªå·®ï¼Œä½†æ˜¯ç”¨æ¥é¢„æµ‹å°±æ²¡æ¯›ç—…***

### 2.2 ML ä¸ä¼ ç»Ÿç»Ÿè®¡æ–¹æ³•çš„å·®å¼‚ğŸŒ®

-   ç›®æ ‡ä¸åŒ
    -   ç»Ÿè®¡å­¦ï¼šåé‡è§£é‡Šæ€§ï¼Œè§£æå˜é‡é—´çš„å› æœæˆ–å…³è”ï¼›\
    -   æœºå™¨å­¦ä¹ ï¼šåé‡é¢„æµ‹æ€§ï¼Œè¿½æ±‚æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œå³ç»™æˆ‘æ•°æ®æˆ‘å¯ä»¥é¢„æµ‹å‡ºå¤§æ¦‚çš„ï¼Œç¬¦åˆä¹‹å‰æ•°æ®çš„ç­”æ¡ˆã€‚
-   æ¨¡å‹å‡è®¾
    -   ç»Ÿè®¡æ¨¡å‹ï¼šé€šå¸¸è¦æ±‚æ»¡è¶³æ­£æ€æ€§ã€çº¿æ€§å…³ç³»ç­‰ä¸¥æ ¼å‡è®¾ï¼›\
    -   ML æ¨¡å‹ï¼šå¯¹æ•°æ®åˆ†å¸ƒå’Œå…³ç³»çš„å‡è®¾æ›´å¼±ï¼Œ***å¯ä»¥å¤„ç†éçº¿æ€§ã€é«˜ç»´åº¦æ•°æ®***ã€‚
-   å…³æ³¨ç‚¹
    -   ç»Ÿè®¡æ–¹æ³•ï¼šä¼°è®¡å‚æ•°ã€æ˜¾è‘—æ€§æ£€éªŒã€ç½®ä¿¡åŒºé—´ï¼›\
    -   ML æ–¹æ³•ï¼š***æ¨¡å‹é€‰æ‹©ã€äº¤å‰éªŒè¯ã€è¿‡æ‹Ÿåˆæ§åˆ¶ã€é¢„æµ‹è¯¯å·®***ã€‚

### 2.3 æœºå™¨å­¦ä¹ çš„ä¸»è¦ç±»å‹ğŸ¤–

1.  **ç›‘ç£å­¦ä¹ ï¼ˆSupervised Learningï¼‰**
    -   æœ‰â€œæ ‡ç­¾â€çš„æ•°æ®ï¼ˆä¾‹å¦‚ï¼šæ‚£è€…æœ‰/æ— å‹åŠ›æ€§æŸä¼¤ï¼‰ã€‚\
    -   å¸¸è§ç®—æ³•ï¼šé€»è¾‘å›å½’ã€å†³ç­–æ ‘ã€éšæœºæ£®æ—ã€æ”¯æŒå‘é‡æœºã€ç¥ç»ç½‘ç»œç­‰ã€‚\
    -   æ ¸å¿ƒä»»åŠ¡ï¼šåˆ†ç±»ï¼ˆClassificationï¼‰å’Œå›å½’ï¼ˆRegressionï¼‰ã€‚
2.  **æ— ç›‘ç£å­¦ä¹ ï¼ˆUnsupervised Learningï¼‰**
    -   æ— æ ‡ç­¾æ•°æ®ã€‚\
    -   å¸¸è§ç®—æ³•ï¼šèšç±»ï¼ˆK-meansã€å±‚æ¬¡èšç±»ï¼‰ã€é™ç»´ï¼ˆPCAã€t-SNEï¼‰ã€‚\
    -   æ ¸å¿ƒä»»åŠ¡ï¼šå‘ç°æ•°æ®çš„å†…åœ¨ç»“æ„ã€åˆ†ç¾¤ã€ç‰¹å¾é™ç»´ã€‚
3.  **å¼ºåŒ–å­¦ä¹ ï¼ˆReinforcement Learningï¼‰**
    -   é€šè¿‡â€œè¯•é”™â€ä¸ç¯å¢ƒäº’åŠ¨æ¥å­¦ä¹ æœ€ä¼˜ç­–ç•¥ã€‚\
    -   åœ¨æŠ¤ç†ç ”ç©¶ä¸­åº”ç”¨ç›¸å¯¹å°‘ï¼Œå¯ç”¨äºä¼˜åŒ–æŠ¤ç†è·¯å¾„æˆ–èµ„æºè°ƒåº¦ã€‚

### 2.4 æœºå™¨å­¦ä¹ ç ”ç©¶æµç¨‹ğŸ›«

1.  **æ•°æ®å‡†å¤‡ä¸æ¸…æ´—**
    -   æ±‡æ€»ä¸´åºŠæŒ‡æ ‡ã€é—®å·é‡è¡¨ã€ç”µå­å¥åº·è®°å½•ç­‰ï¼›\
    -   å¤„ç†ç¼ºå¤±å€¼ã€å¼‚å¸¸å€¼ã€åˆ†ç±»å˜é‡ç¼–ç ã€‚
2.  **ç‰¹å¾å·¥ç¨‹**
    -   é€‰æ‹©æˆ–æ„é€ ä¸ç ”ç©¶ç›®æ ‡æœ€ç›¸å…³çš„å˜é‡ï¼ˆç‰¹å¾ï¼‰å³æŒ‘é€‰é‡è¦çš„ç‰¹å¾å˜é‡ï¼Œè¿‡æ»¤ä¸éœ€è¦çš„å˜é‡ï¼›\
    -   å½’ä¸€åŒ–ã€æ ‡å‡†åŒ–ã€one-hot ç¼–ç (ç‹¬çƒ­ç¼–ç )ç­‰ã€‚
3.  **æ¨¡å‹è®­ç»ƒä¸ä¼˜åŒ–**
    -   åœ¨â€œè®­ç»ƒé›†â€ä¸Šè®­ç»ƒæ¨¡å‹ï¼›\
    -   é€šè¿‡äº¤å‰éªŒè¯ï¼ˆCross-Validationï¼‰é€‰æ‹©è¶…å‚æ•°ï¼Œ**é˜²æ­¢è¿‡æ‹Ÿåˆ**(è¿‡æ‹Ÿåˆå³æ˜¯å¯¹æ¨¡å‹æ¥è¯´ï¼Œå­¦ä¹ å¤ªå¤šä¸é‡è¦çš„ç‰¹å¾ï¼Œæ¯”å¦‚æˆ‘è®­ç»ƒäº†ä¸€ä¸ªè¯†åˆ«å­¦é•¿è¿˜æ˜¯å­¦å§çš„æ¨¡å‹ï¼Œä½†æ˜¯æ¨¡å‹å­¦ä¹ åˆ°äº†å‡ ä¸ªå¥³è£…çš„å­¦é•¿ï¼Œæœ¬æ¥å¥³è£…è¿™æ˜¯å‡ ä¸ªäººçš„ç‰¹æ®Šç™–å¥½ï¼Œä½†æ˜¯æ¨¡å‹è®¤ä¸ºå¥³è£…çš„éƒ½æ˜¯å­¦é•¿ï¼Œè¿™æ‰¯ä¸æ‰¯ï¼‰ã€‚
4.  **æ¨¡å‹è¯„ä¼°**
    -   ***åœ¨â€œæµ‹è¯•é›†â€æˆ–â€œç•™å‡ºæ•°æ®â€ä¸Šè¯„ä¼°é¢„æµ‹æ€§èƒ½***ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæœºå™¨å­¦ä¹ éƒ½è¦åˆ†æˆè®­ç»ƒé›†å’ŒéªŒè¯é›†ï¼Œè¦ä¹ˆ7/3,è¦ä¹ˆ8/2ç­‰ç­‰ï¼ˆåƒä¸‡åˆ«è€å°èªæ˜ï¼Œè§‰å¾—æ•°æ®ä¸å¤Ÿå¤šï¼Œè¿˜è¦æ‹†åˆ†ï¼Œè€æ»‘å¤´æŠŠæ‰€æœ‰æ•°æ®éƒ½æ‹¿å»è®­ç»ƒï¼Œç„¶åå†æ‹¿å…¶ä¸­ä¸€éƒ¨åˆ†æ¥é¢„æµ‹ï¼Œå› ä¸ºæ¨¡å‹æœ‰è®°å¿†çš„ï¼Œä½ é¢„æµ‹è®­ç»ƒè¿‡çš„æ•°æ®ï¼Œè‚¯å®šå‡†ç¡®ç‡æ˜¯ç™¾åˆ†ç™¾ï¼Œå°±å¥½åƒä½ æ˜æ˜çŸ¥é“æ˜å¤©çš„å¤©æ°”ï¼Œé‚£ä¸ºä»€ä¹ˆè¦æ ¹æ®ä¹‹å‰çš„æ•°æ®æ¨æµ‹å‘¢ï¼‰ï¼ˆå¦‚ AUCã€å‡†ç¡®ç‡ã€RMSEï¼‰ï¼›\
    -   æ¯”è¾ƒä¸åŒç®—æ³•çš„ä¼˜åŠ£ã€‚
5.  **æ¨¡å‹è§£é‡Šä¸åº”ç”¨**
    -   ä½¿ç”¨ SHAPã€LIME ç­‰æ–¹æ³•**è§£é‡Šæ¨¡å‹**

        å®ƒä»¬æ˜¯ä¸¤ç§å¸¸ç”¨çš„â€œæ¨¡å‹è§£é‡Šå·¥å…·â€ï¼Œå¯ä»¥å‘Šè¯‰æˆ‘ä»¬ï¼š**å“ªäº›å˜é‡å¯¹æ¨¡å‹é¢„æµ‹æœ€é‡è¦ï¼Œä»¥åŠå®ƒä»¬çš„å½±å“æ–¹å‘**

------------------------------------------------------------------------

## å¤ç°ä¸€ç¯‡è®ºæ–‡ğŸ¤–

**`æœ€å¥½å­¦ä¹ çš„æ–¹æ³•å°±æ˜¯çœ‹ç›¸å…³è®ºæ–‡ï¼Œç„¶åå­¦ä¹ è®ºæ–‡çŸ¥è¯†ï¼Œç„¶åå¤ç°å­¦ä¹ ï¼Œæ‰€ä»¥å•¥ä¹Ÿä¸è¯´äº†ï¼Œç›´æ¥çœŸåˆ€çœŸæªå¼€å¹²å°±å®Œäº†`**

#### Replicating Research on Subjective Well-Being in Schizophrenia: A Guide to Generating Synthetic Data for SEM and Machine Learning ç²¾ç¥åˆ†è£‚ç—‡æ‚£è€…ä¸»è§‚å¹¸ç¦æ„Ÿç ”ç©¶ï¼šSEM å’Œæœºå™¨å­¦ä¹ åˆæˆæ•°æ®ç”ŸæˆæŒ‡å—[è®ºæ–‡é“¾æ¥](https://pmc.ncbi.nlm.nih.gov/articles/PMC12236327/#s5)

***ï¼ç°åœ¨æˆ‘ä¸ä»¥ç¤¾ä¼šç§‘å­¦çš„è§’åº¦è§£æè¿™ç¯‡æ–‡ç« ï¼Œåªç”¨ç»Ÿè®¡å­¦å’Œä»£ç æ¥è§£æå¦‚ä½•å¤„ç†***

å› ä¸ºæˆ‘ç°åœ¨æ²¡æœ‰ç›¸å…³çš„æ•°æ®ï¼Œæ‰€ä»¥æˆ‘åªèƒ½ç”¨ä»£ç æ¨¡æ‹Ÿå’Œæ–‡ç« å·®ä¸å¤šçš„æ•°æ®

-   **è¡¨ 1ï¼šæœºå™¨å­¦ä¹ æ¨¡å‹ä¸­åŒ…å«çš„ç‹¬ç«‹å˜é‡åˆ—è¡¨ï¼š** è¯¥è¡¨æ¦‚è¿°äº†åˆ†æä¸­ä½¿ç”¨çš„æ‰€æœ‰å˜é‡ï¼ŒåŒ…æ‹¬ç¤¾ä¼šäººå£å› ç´ ï¼ˆå¹´é¾„ã€æ€§åˆ«ã€æ•™è‚²ã€èŒä¸šï¼‰ã€ç–¾ç—…ç›¸å…³å› ç´ ï¼ˆç–¾ç—…æŒç»­æ—¶é—´ï¼‰å’Œå„ç§ä¸´åºŠæµ‹é‡ã€‚

-   **è¡¨ 2ï¼šæ ·æœ¬ç‰¹å¾ï¼š**æä¾›äº† 637 åæ‚£è€…åŸå§‹æ•°æ®é›†ä¸­å˜é‡çš„æè¿°æ€§ç»Ÿè®¡æ•°æ®ã€‚å®ƒåŒ…æ‹¬è¿ç»­å˜é‡çš„å¹³å‡å€¼ã€æ ‡å‡†å·®å’ŒèŒƒå›´ï¼Œä»¥åŠåˆ†ç±»å˜é‡çš„é¢‘ç‡ã€‚

-   **å›¾ 3ï¼šç½‘ç»œæ¨¡å‹å’Œä¸­å¿ƒæ€§æŒ‡æ ‡ï¼š**å±•ç¤ºäº†ä¸åŒå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§ã€‚è¿æ¥åŠå…¶ç²—ç»†è¡¨ç¤ºå…³ç³»çš„å¼ºåº¦ï¼Œè¿™åº”è¯¥åæ˜ åœ¨åˆæˆæ•°æ®çš„ç›¸å…³çŸ©é˜µä¸­ã€‚

-   **å›¾ 4ï¼šç»“æ„æ–¹ç¨‹æ¨¡å‹ï¼ˆSEMï¼‰åˆ†æï¼š** è¯¥å›¾æ¯”ç½‘ç»œåˆ†ææ›´è¿›ä¸€æ­¥ï¼Œæ­ç¤ºäº†å˜é‡ä¹‹é—´çš„å› æœè·¯å¾„å’Œæ•ˆåº”æ–¹å‘ã€‚è·¯å¾„ç³»æ•°é‡åŒ–äº†è¿™äº›å…³ç³»çš„å¼ºåº¦å’Œæ–¹å‘ã€‚

#### ä½¿ç”¨ Python ç”Ÿæˆåˆæˆæ•°æ®

ä»¥ä¸‹ Python ä»£ç æ¼”ç¤ºäº†å¦‚ä½•ç”Ÿæˆä¸€ä¸ªä¸è®ºæ–‡ä¸­æè¿°çš„ç‰¹å¾è¿‘ä¼¼çš„åˆæˆæ•°æ®é›†ã€‚æ­¤ä»£ç ä½¿ç”¨ numpy å’Œ pandas åº“åˆ›å»ºä¸€ä¸ªæ•°æ®æ¡†ï¼Œå…¶ä¸­åŒ…å«ä¸åŸå§‹ç ”ç©¶ä¸­çš„å˜é‡å…·æœ‰ç›¸ä¼¼ç»Ÿè®¡ç‰¹æ€§å’Œç›¸å…³æ€§çš„å˜é‡ã€‚å˜é‡ä¸ç”¨Chinese

```{python}
#| echo: true
# å¯¼å…¥æ‰€éœ€çš„åº“
# å¯¼å…¥æ‰€éœ€çš„åº“
import numpy as np
import pandas as pd
from scipy.stats import truncnorm

# --- 1. å®šä¹‰æ ·æœ¬é‡ ---
n_patients = 637

# --- 2. åŸºäºSEMå’Œç½‘ç»œåˆ†æç”Ÿæˆæ ¸å¿ƒç›¸å…³æ•°æ® ---
correlation_matrix = np.array([
    # SWB,   OCS,   Som,   Cog,   Dep,   Neg,   Pos,   PSP
    [1.00, -0.59, -0.40, -0.20, -0.35, -0.25, -0.15,  0.30],
    [-0.59,  1.00,  0.70,  0.30,  0.40,  0.20,  0.18, -0.25],
    [-0.40,  0.70,  1.00,  0.25,  0.35,  0.15,  0.10, -0.20],
    [-0.20,  0.30,  0.25,  1.00,  0.26,  0.48,  0.36, -0.40],
    [-0.35,  0.40,  0.35,  0.26,  1.00,  0.35,  0.24, -0.50],
    [-0.25,  0.20,  0.15,  0.48,  0.35,  1.00,  0.22, -0.60],
    [-0.15,  0.18,  0.10,  0.36,  0.24,  0.22,  1.00, -0.30],
    [ 0.30, -0.25, -0.20, -0.40, -0.50, -0.60, -0.30,  1.00]
])

mean = np.zeros(correlation_matrix.shape[0])
np.random.seed(42)
correlated_data = np.random.multivariate_normal(mean, correlation_matrix, size=n_patients)

# --- 3. ç¼©æ”¾å’Œè½¬æ¢æ•°æ®ä»¥åŒ¹é…è®ºæ–‡è¡¨2ä¸­çš„ç»Ÿè®¡ç‰¹å¾ ---

def scale_variable(data_column, mean, std, min_val, max_val):
    scaled = data_column * std + mean
    return np.clip(scaled, min_val, max_val)

cgi_pos = scale_variable(correlated_data[:, 6], 3.7, 1.4, 1, 7)
cgi_neg = scale_variable(correlated_data[:, 5], 3.3, 1.2, 1, 7)
cgi_dep = scale_variable(correlated_data[:, 4], 2.6, 1.2, 1, 6)
cgi_cog = scale_variable(correlated_data[:, 3], 3.1, 1.1, 1, 6)
scl_som = scale_variable(correlated_data[:, 2], 21.3, 8.7, 12, 58)
scl_ocs = scale_variable(correlated_data[:, 1], 22.4, 8.3, 10, 50)
swn_total = scale_variable(correlated_data[:, 0], 73.5, 17.6, 24, 120)
psp_total = scale_variable(correlated_data[:, 7], 55.9, 14.8, 10, 90)
diepss_severity = np.random.uniform(0, 4, n_patients)
diepss_severity = np.clip(diepss_severity, 0, 4)
diepss_severity_mean = np.mean(diepss_severity)
diepss_severity = (diepss_severity - diepss_severity_mean) * (0.8 / np.std(diepss_severity)) + 0.6
diepss_severity = np.clip(diepss_severity, 0, 4)

# --- 4. ç”Ÿæˆç¤¾ä¼šäººå£ç»Ÿè®¡å­¦åŠå…¶ä»–å˜é‡ ---

age_mean, age_std, age_min, age_max = 35.7, 10.5, 18, 64
age = truncnorm.rvs((age_min - age_mean) / age_std, (age_max - age_mean) / age_std, loc=age_mean, scale=age_std, size=n_patients)
sex = np.random.choice([1, 0], size=n_patients, p=[0.529, 0.471])
education = np.random.choice(['Less than 12 years', 'High school', 'College or graduate'], size=n_patients, p=[0.171, 0.413, 0.416])
occupation = np.random.choice([1, 0], size=n_patients, p=[0.174, 0.826])
illness_duration_mean, illness_duration_std, illness_duration_min, illness_duration_max = 9.1, 8.1, 0, 44
illness_duration = truncnorm.rvs((illness_duration_min - illness_duration_mean) / illness_duration_std, (illness_duration_max - illness_duration_mean) / illness_duration_std, loc=illness_duration_mean, scale=illness_duration_std, size=n_patients)
obesity = np.random.choice([1, 0], size=n_patients, p=[0.468, 0.532])
hypertension = np.random.choice([1, 0], size=n_patients, p=[0.273, 0.727])
diabetes = np.random.choice([1, 0], size=n_patients, p=[0.154, 0.846])

# --- 5. ç»„åˆæˆ Pandas DataFrame ---
synthetic_df = pd.DataFrame({
    'Age': age.round(1),
    'Sex_Female': sex,
    'Education': education,
    'Occupation_Employed': occupation,
    'Duration_of_Illness': illness_duration.round(1),
    'Obesity': obesity,
    'Hypertension': hypertension,
    'Diabetes': diabetes,
    'CGI_Positive': cgi_pos.round(1),
    'CGI_Negative': cgi_neg.round(1),
    'CGI_Depressive': cgi_dep.round(1),
    'CGI_Cognitive': cgi_cog.round(1),
    'SCL90R_Somatization': scl_som.round(1),
    'SCL90R_OCS': scl_ocs.round(1),
    'SWN_Total_Score': swn_total.round(1),
    'DIEPSS_Overall_Severity': diepss_severity.round(1),
    'PSP_Total_Score': psp_total.round(1)
})

# --- 6. å°†æ•°æ®æ¡† (DataFrame) ä¿å­˜ä¸º CSV æ–‡ä»¶ ---
# !!! é‡è¦æç¤º: è¯·å°†ä¸‹é¢çš„è·¯å¾„ä¿®æ”¹ä¸ºæ‚¨å¸Œæœ›ä¿å­˜æ–‡ä»¶çš„å®é™…ä½ç½® !!!
# ä¾‹å¦‚ Windows: "C:/Users/ç”¨æˆ·å/Documents/synthetic_data.csv"
# ä¾‹å¦‚ macOS: "/Users/ç”¨æˆ·å/Documents/synthetic_data.csv"
file_path = "./synthetic_schizophrenia_data.csv"

# ä½¿ç”¨ to_csv() å‡½æ•°æ¥ä¿å­˜æ•°æ®
# å‚æ•° index=False çš„æ„æ€æ˜¯ï¼Œæ•°æ®æ¡†çš„è¡Œç´¢å¼• (0, 1, 2, ...) ä¸ä¼šè¢«å†™å…¥åˆ° CSV æ–‡ä»¶ä¸­
synthetic_df.to_csv(file_path, index=False)

print(synthetic_df.head(10))

```

### ğŸ§® æ•°æ®ç»´åº¦

-   **æ ·æœ¬æ•°ï¼ˆè¡Œæ•°ï¼‰**ï¼š`637` ç”± `n_patients = 637` æŒ‡å®šï¼Œæ¨¡æ‹Ÿçš„æ˜¯637ä½ç²¾ç¥åˆ†è£‚ç—‡æ‚£è€…çš„ä¸´åºŠä¸äººå£å­¦æ•°æ®ã€‚

-   **å˜é‡æ•°ï¼ˆåˆ—æ•°ï¼‰**ï¼š`17` åŒ…æ‹¬ä¸´åºŠç—‡çŠ¶ã€äººå£å­¦ç‰¹å¾ã€åŠŸèƒ½çŠ¶æ€å’Œä»£è°¢æŒ‡æ ‡ç­‰å˜é‡ã€‚

### ğŸ“Š å˜é‡åˆ—è¡¨ä¸ç±»å‹

| å˜é‡å                    | ç±»å‹     | æè¿°                        |
|---------------------------|----------|-----------------------------|
| `Age`                     | è¿ç»­å˜é‡ | å¹´é¾„ï¼ˆ18â€“64å²ï¼‰             |
| `Sex_Female`              | äºŒå…ƒå˜é‡ | æ€§åˆ«ï¼ˆ1=å¥³æ€§ï¼Œ0=ç”·æ€§ï¼‰      |
| `Education`               | åˆ†ç±»å˜é‡ | æ•™è‚²æ°´å¹³ï¼ˆ3ç±»ï¼‰             |
| `Occupation_Employed`     | äºŒå…ƒå˜é‡ | æ˜¯å¦å°±ä¸šï¼ˆ1=åœ¨èŒï¼‰          |
| `Duration_of_Illness`     | è¿ç»­å˜é‡ | ç—…ç¨‹ï¼ˆ0â€“44å¹´ï¼‰              |
| `Obesity`                 | äºŒå…ƒå˜é‡ | æ˜¯å¦è‚¥èƒ–                    |
| `Hypertension`            | äºŒå…ƒå˜é‡ | æ˜¯å¦é«˜è¡€å‹                  |
| `Diabetes`                | äºŒå…ƒå˜é‡ | æ˜¯å¦ç³–å°¿ç—…                  |
| `CGI_Positive`            | è¿ç»­å˜é‡ | é˜³æ€§ç—‡çŠ¶è¯„åˆ†ï¼ˆ1â€“7ï¼‰         |
| `CGI_Negative`            | è¿ç»­å˜é‡ | é˜´æ€§ç—‡çŠ¶è¯„åˆ†ï¼ˆ1â€“7ï¼‰         |
| `CGI_Depressive`          | è¿ç»­å˜é‡ | æŠ‘éƒç—‡çŠ¶è¯„åˆ†ï¼ˆ1â€“6ï¼‰         |
| `CGI_Cognitive`           | è¿ç»­å˜é‡ | è®¤çŸ¥ç¼ºé™·è¯„åˆ†ï¼ˆ1â€“6ï¼‰         |
| `SCL90R_Somatization`     | è¿ç»­å˜é‡ | èº¯ä½“åŒ–è¯„åˆ†ï¼ˆ12â€“58ï¼‰         |
| `SCL90R_OCS`              | è¿ç»­å˜é‡ | å¼ºè¿«ç—‡çŠ¶è¯„åˆ†ï¼ˆ10â€“50ï¼‰       |
| `SWN_Total_Score`         | è¿ç»­å˜é‡ | ä¸»è§‚å¹¸ç¦æ„Ÿè¯„åˆ†ï¼ˆ24â€“120ï¼‰    |
| `DIEPSS_Overall_Severity` | è¿ç»­å˜é‡ | é”¥ä½“å¤–ç³»ä¸è‰¯ååº”è¯„åˆ†ï¼ˆ0â€“4ï¼‰ |
| `PSP_Total_Score`         | è¿ç»­å˜é‡ | ç¤¾ä¼šåŠŸèƒ½è¯„åˆ†ï¼ˆ10â€“90ï¼‰       |

### ğŸ“Š å˜é‡æ¢ç´¢(æœºå™¨å­¦ä¹ è¿›è¡Œå˜é‡çš„æ¢ç´¢ï¼Œå³ç‰¹å¾å·¥ç¨‹)

---

**è®ºæ–‡çš„é¦–è¦åˆ†ææ­¥éª¤æ˜¯åˆ©ç”¨æœºå™¨å­¦ä¹  (ML) æ¥è¯†åˆ«å†³å®šé«˜æ°´å¹³ä¸»è§‚å¹¸ç¦æ„Ÿ (SWB) çš„æœ€é‡è¦å› ç´ ã€‚è®ºæ–‡ä½œè€…è®­ç»ƒäº†å¤šä¸ªæ¨¡å‹ï¼Œå‘ç°éšæœºæ£®æ— (RF) æ¨¡å‹è¡¨ç°æœ€ä½³**

1. å‡†å¤‡æœºå™¨å­¦ä¹ çš„æ•°æ® ã€‚

2. è®­ç»ƒéšæœºæ£®æ—æ¨¡å‹æ¥é¢„æµ‹å“ªäº›æ‚£è€…å…·æœ‰â€œé«˜æ°´å¹³çš„ SWBâ€ã€‚

3. ä½¿ç”¨ AUC æŒ‡æ ‡è¯„ä¼°æ¨¡å‹çš„æ€§èƒ½ ï¼Œå°±åƒè®ºæ–‡ä¸­æ‰€åšçš„é‚£æ ·ã€‚

4. ä½¿ç”¨ SHAP å€¼åˆ†æ**ç‰¹å¾é‡è¦æ€§**ï¼Œ ä»¥äº†è§£å“ªäº›å˜é‡æ˜¯æœ€å¼ºå¤§çš„é¢„æµ‹å› å­ï¼Œé‡ç°è®ºæ–‡ä¸­å›¾ 1B ä¸­çš„å‘ç°ã€‚

#### ç¬¬ä¸€æ­¥å¯¼å…¥éœ€è¦çš„åŒ…ğŸ§‰
-   åŒ…æ˜¯å¯ä»¥è®¤ä¸ºæ˜¯æ¸¸æˆçš„mod,éƒ½æ˜¯å¤§ä½¬æ”¶é›†çš„ç®—æ³•æˆ–è€…å…¶ä»–çš„ä»£ç æ¥å®ç°ä½ éœ€è¦çš„åŠŸèƒ½ï¼Œè¿™äº›éƒ½æ˜¯åœ°åŸº

```{python}
#| echo: true
# å¯¼å…¥æ‰€éœ€çš„åº“
import pandas as pd                 # å¯¼å…¥ pandas ç”¨äºè¯»å–å’Œå¤„ç†æ•°æ®
import numpy as np                  # å¯¼å…¥ numpy ç”¨äºæ•°å€¼è®¡ç®—
from sklearn.model_selection import train_test_split # å¯¼å…¥ train_test_split ç”¨äºåˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†
from sklearn.ensemble import RandomForestClassifier  # å¯¼å…¥éšæœºæ£®æ—åˆ†ç±»å™¨
from sklearn.metrics import roc_auc_score, roc_curve # å¯¼å…¥è¯„ä¼°æŒ‡æ ‡è®¡ç®—å‡½æ•°
import matplotlib.pyplot as plt     # å¯¼å…¥ matplotlib ç”¨äºç»˜å›¾
import shap                         # å¯¼å…¥ SHAP åº“ç”¨äºæ¨¡å‹è§£é‡Š
```

#### ç¬¬äºŒæ­¥å¯¼å…¥æ•°æ®ğŸ¤¤
å°±æ˜¯æˆ‘ä»¬è¦çš„æ•°æ®ï¼Œå³è°ƒæŸ¥çš„æ•°æ®ï¼Œä¸€èˆ¬æ˜¯XLSX(excelè¡¨æ ¼)ï¼Œcsv(æ•°æ®æ ¼å¼ä¸‡é‡‘æ²¹)ï¼Œæˆ–è€…å…¶ä»–æ ¼å¼

```{python}
#| echo: true

# --- 1. åŠ è½½å¹¶å‡†å¤‡æ•°æ® ---
# Load and Prepare the Data

# !!! é‡è¦æç¤º: è¯·å°†ä¸‹é¢çš„è·¯å¾„ä¿®æ”¹ä¸ºæ‚¨ä¿å­˜ CSV æ–‡ä»¶çš„å®é™…ä½ç½® !!!
# For example: "C:/Users/YourUsername/Documents/synthetic_schizophrenia_data.csv"
file_path = "./synthetic_schizophrenia_data.csv"

# è¯»å–æˆ‘ä»¬ä¹‹å‰ç”Ÿæˆçš„åˆæˆæ•°æ®
df = pd.read_csv(file_path)
```

#### ç¬¬ä¸‰æ­¥ å®šä¹‰ç›®æ ‡å˜é‡å’Œç‰¹å¾å˜é‡ğŸ¥¶

æˆ‘ä»¬å¿…é¡»è¦çŸ¥é“what the fuck is our ç›®æ ‡å˜é‡ï¼Œå³æˆ‘ä»¬è¦ç ”ç©¶çš„ç›®æ ‡ï¼Œè¿™ç¯‡æ–‡ç« ç ”ç©¶çš„æ˜¯ **é«˜æ°´å¹³ä¸»è§‚å¹¸ç¦æ„Ÿ (SWB)**ï¼Œä»–ä»¬æƒ³è¦çŸ¥é“ä»€ä¹ˆå› ç´ å½±å“è¿™ä¸ªé¬¼ä¸œè¥¿ï¼Œè€Œè¿™äº›å› ç´ ï¼Œæ¯”å¦‚å¹´é¾„ï¼Œèº«é«˜ï¼Œä½“é‡å°±æ˜¯ç‰¹å¾å˜é‡

-   **å®šä¹‰ç›®æ ‡**ï¼š æœ¬æ–‡æœºå™¨å­¦ä¹ æ¨¡å‹çš„ä¸»è¦ç›®æ ‡å¹¶éé¢„æµ‹å‡†ç¡®çš„ä¸»è§‚å¹¸ç¦æ„Ÿ (SWB) è¯„åˆ†ï¼Œè€Œæ˜¯å°†æ‚£è€…åˆ†ä¸ºä¸¤ç»„ï¼šå…·æœ‰â€œé«˜æ°´å¹³ SWBâ€çš„æ‚£è€…å’Œä¸å…·æœ‰â€œé«˜æ°´å¹³ SWBâ€çš„æ‚£è€…ã€‚æˆ‘ä»¬éµå¾ªæœ¬æ–‡çš„æ€è·¯ï¼Œåˆ›å»ºäº†ä¸€ä¸ªäºŒå…ƒç›®æ ‡å˜é‡ ( High_SWB )ï¼Œå…¶ä¸­ 80 åˆ†åŠä»¥ä¸Šè¢«è§†ä¸ºâ€œé«˜â€ï¼ˆç¼–ç ä¸º 1ï¼‰ï¼Œä½äº 80 åˆ†åˆ™è¢«è§†ä¸ºâ€œä½â€ï¼ˆç¼–ç ä¸º 0ï¼‰ã€‚

```{python}
#| echo: true

# å®šä¹‰ç›®æ ‡å˜é‡ (Y)
# æ ¹æ®è®ºæ–‡ï¼Œ"é«˜æ°´å¹³SWB" å®šä¹‰ä¸º SWN æ€»åˆ†è¾¾åˆ°æˆ–è¶…è¿‡ 80
# æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º 'High_SWB' çš„æ–°åˆ—ï¼Œ1 è¡¨ç¤ºé«˜SWBï¼Œ0 è¡¨ç¤ºéé«˜SWB
df['High_SWB'] = (df['SWN_Total_Score'] >= 80).astype(int)

# å®šä¹‰ç‰¹å¾å˜é‡ (X)
# X æ˜¯é™¤äº†ç›®æ ‡å˜é‡å’ŒåŸå§‹SWNåˆ†æ•°ä¹‹å¤–çš„æ‰€æœ‰åˆ—
# We drop the original score and the target variable to create our feature set
X = df.drop(['SWN_Total_Score', 'High_SWB'], axis=1)
y = df['High_SWB']
```


---

æµ‹è¯•ä»£ç ï¼Œå’Œé¡¹ç›®æ²¡å…³ç³»

```{python}
a = 100
print(a)
```

```{python}
print("nihao")
```

```{python}
#| echo: true
print("Hello world")
```

```{python}
#| echo: true
import numpy as np
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt


# Generate synthetic data
np.random.seed(42)
n = 100
data = pd.DataFrame({
    'Feature A': np.random.normal(loc=0, scale=1, size=n),
    'Feature B': np.random.normal(loc=5, scale=2, size=n),
    'Feature C': np.random.normal(loc=-3, scale=1.5, size=n),
    'Class': np.random.choice(['Class 1', 'Class 2', 'Class 3'], size=n)
})

# Visualize with seaborn pairplot
sns.set(style="whitegrid")
plot = sns.pairplot(data, hue='Class', palette='Set2', diag_kind='kde')
plt.suptitle("Synthetic Data Visualization", y=1.02)
plt.show()

```